import{a as pe}from"./chunk-5TNV7STC.js";import{g as G}from"./chunk-HGIGAB6F.js";import{a as X,b as se}from"./chunk-MUJ4O2MJ.js";import"./chunk-BYXBJQAS.js";import{a as z}from"./chunk-Z42FMQK5.js";import{b as q,c as W,e as F,h as K}from"./chunk-OQWHGPHN.js";import{b as ce}from"./chunk-XWMUM5E5.js";import{b as Y,c as Z,d as ee,f as te,g as ie,h as ne,i as re,j as oe,k as ae,l as le}from"./chunk-7VAD2W5J.js";import{c as Q,d as U,e as H}from"./chunk-NOK5XJAB.js";import{Ab as N,Bb as L,Cb as S,Db as x,Eb as y,Fb as C,Ia as R,Jb as A,Ka as t,Kb as D,Lb as J,Mb as p,Nb as c,Ob as $,Va as B,Wa as M,bb as V,ca as g,fa as O,gb as f,ib as b,jb as I,kb as T,lb as w,mb as E,nb as a,ob as l,pb as v,qa as u,ra as _,rb as k,sb as j,tb as d}from"./chunk-547F6EYH.js";var me=["edtAddPrj"],ue=["edtRemovePrj"],_e=e=>({prjName:e});function fe(e,s){if(e&1&&v(0,"span",30),e&2){let r=s.$implicit;b("fi fi-"+r.flagName)}}function ve(e,s){if(e&1&&(a(0,"div",25)(1,"div",26),x(2),l(),a(3,"div",27),x(4),l(),a(5,"div",28),w(6,fe,1,2,"span",29,T),l()()),e&2){let r=d().$implicit;t(2),C(" ",r.name," "),t(2),C(" ",r.description," "),t(2),E(r.languages)}}function xe(e,s){if(e&1&&v(0,"span",30),e&2){let r=s.$implicit;b("fi fi-"+r.flagName)}}function je(e,s){if(e&1){let r=k();a(0,"div")(1,"div",31),j("click",function(){u(r);let n=d().$implicit,i=d();return _(i.goToTranslation(n.id))}),x(2),l(),a(3,"div",32),x(4),l()(),a(5,"div",28),w(6,xe,1,2,"span",29,T),l(),a(8,"div",33),j("click",function(){u(r);let n=d().$implicit,i=d();return _(i.showDeletePop(n))}),v(9,"i",34),a(10,"span"),x(11),p(12,"translate"),l()()}if(e&2){let r=d().$implicit;t(2),C(" ",r.name," "),t(2),C(" ",r.description," "),t(2),E(r.languages),t(5),y(c(12,3,"PROJECT.REMOVE"))}}function be(e,s){if(e&1){let r=k();a(0,"div",24),j("dblclick",function(){let n=u(r).$implicit,i=d();return _(i.dblClickProject(n.id))})("click",function(){let n=u(r).$implicit,i=d();return _(i.clickProject(n.id))}),V(1,ve,8,2,"div",25)(2,je,13,5),l()}if(e&2){let r=d();b(r.appSettingsService.isMobile()?"w-full":"w-2/3"),t(),I(1,r.appSettingsService.isMobile()?1:2)}}function Ce(e,s){e&1&&(a(0,"div",8)(1,"span",35),x(2),p(3,"translate"),l()()),e&2&&(t(2),y(c(3,1,"INFO.NO_PROJECT")))}function Pe(e,s){if(e&1&&(v(0,"p",21),p(1,"translate")),e&2){let r=d();f("innerHTML",$(1,1,"PROJECT.QUESTIONS.DELETE_PROJECT",J(4,_e,r.selectedPrj.name)),R)}}var Je=(()=>{let s=class s{constructor(){this.edtAddPrj=M("edtAddPrj"),this.edtRemovePrj=M("edtRemovePrj"),this.storageService=g(W),this.fb=g(re),this.appSettingsService=g(q),this.router=g(G),this.selectedPrj=void 0,this.projectList=B([]),this.newProjectForm=this.fb.group({name:[void 0,[Y.required,pe()]],description:[void 0],languages:[[]]}),this.titleSubsciber=this.appSettingsService.setTitleFromTranslation("PROJECT.TITLE_PAGE").pipe(z()).subscribe()}ngOnInit(){this.projectList.set(this.storageService.retrieveObj(F)??[])}dblClickProject(o){this.appSettingsService.isMobile()||this.goToTranslation(o)}clickProject(o){this.appSettingsService.isMobile()&&this.goToTranslation(o)}goToTranslation(o){let n=this.appSettingsService.layoutPage();this.appSettingsService.isMobile()&&(n="list"),this.router.navigate([`translations/${n}`,o])}addProject(){if(this.newProjectForm.valid){let o=this.newProjectForm.value,n=1;this.projectList().length>0&&(n=(Math.max(...this.projectList().map(m=>m.id))??0)+1);let i={id:n,name:o.name&&o.name(),description:o.description&&o.description()};i.languages=this.storageService.retrieveObj(K)??[ce],this.projectList.update(m=>(m.push(i),m)),this.storageService.store(F,this.projectList()),this.edtAddPrj()?.toggle()}}showDeletePop(o){this.selectedPrj=o,this.edtRemovePrj()?.showPop()}removePrj(){this.projectList.update(o=>o.filter(n=>n.id!=this.selectedPrj.id)),this.storageService.store(F,this.projectList()),this.selectedPrj=void 0,this.edtRemovePrj()?.closePop()}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=O({type:s,selectors:[["app-projects"]],viewQuery:function(n,i){n&1&&(N(i.edtAddPrj,me,5),N(i.edtRemovePrj,ue,5)),n&2&&L(2)},standalone:!0,features:[A([Q]),D],decls:41,vars:38,consts:[["edtAddPrj",""],["edtName",""],["edtRemovePrj",""],[1,"flex","flex-col","justify-center","items-center","defaultText"],[1,"flex","flex-row-reverse","pb-3","mb-3","borderBottom","z-20"],[1,"buttonPrimary",3,"click"],[1,"fa-solid","fa-plus","text-base"],[1,"flex","justify-between","items-center","p-4","borderBottom","hover:rounded-md","hover:border-transparent","hover:cursor-pointer","hover:bg-black/10","dark:hover:bg-white/10",3,"class"],[1,"p-12","text-center","text-lg"],[3,"isMobile"],[1,"p-8","defaultText"],[1,"mb-8","font-semibold","text-2xl"],[3,"submit","formGroup"],[1,"flex","flex-col","gap-3","mb-6"],["formControlName","name",3,"label"],["inputType","area","formControlName","description",3,"label"],[1,"flex","gap-4","justify-end"],["level","secondary",3,"onClick","label"],[3,"label","disabled"],[1,"flex","gap-4","items-center","mb-8","font-semibold","text-2xl"],[1,"fa-solid","fa-circle-exclamation","text-red-600","dark:text-red-500"],[3,"innerHTML"],[1,"flex","gap-4","justify-end","mt-8"],[3,"onClick","label"],[1,"flex","justify-between","items-center","p-4","borderBottom","hover:rounded-md","hover:border-transparent","hover:cursor-pointer","hover:bg-black/10","dark:hover:bg-white/10",3,"dblclick","click"],[1,"w-full"],[1,"text-2xl","font-medium","text-center","pb-2"],[1,"text-base","text-center","text-balance","pb-2"],[1,"flex","gap-2","justify-center"],[1,"text-base",3,"class"],[1,"text-base"],[1,"text-2xl","font-medium","text-left","pb-2","hover:text-green-700","hover:underline",3,"click"],[1,"text-base","text-left"],[1,"buttonSecondary",3,"click"],[1,"fa-solid","fa-trash"],[1,"font-semibold","text-neutral-600","dark:","dark:text-neutral-500"]],template:function(n,i){if(n&1){let m=k();a(0,"div",3)(1,"div",4)(2,"div",5),j("click",function(){u(m);let P=S(11),de=S(19);return P.toggle(),_(de.focusOnInput())}),v(3,"i",6),a(4,"span"),x(5),p(6,"translate"),l()()(),w(7,be,3,3,"div",7,T,!1,Ce,4,3,"div",8),l(),a(10,"edt-popup",9,0)(12,"div",10)(13,"div",11),x(14),p(15,"translate"),l(),a(16,"form",12),j("submit",function(){return u(m),_(i.addProject())}),a(17,"div",13),v(18,"edt-input",14,1),p(20,"translate"),v(21,"edt-input",15),p(22,"translate"),l(),a(23,"div",16)(24,"edt-button",17),p(25,"translate"),j("onClick",function(){u(m);let P=S(11);return _(P.toggle())}),l(),v(26,"edt-button",18),p(27,"translate"),l()()()(),a(28,"edt-popup",null,2)(30,"div",10)(31,"div",19),v(32,"i",20),x(33),p(34,"translate"),l(),V(35,Pe,2,6,"p",21),a(36,"div",22)(37,"edt-button",17),p(38,"translate"),j("onClick",function(){u(m);let P=S(29);return _(P.toggle())}),l(),a(39,"edt-button",23),p(40,"translate"),j("onClick",function(){return u(m),_(i.removePrj())}),l()()()()}n&2&&(b(i.appSettingsService.isMobile()?"px-4":""),t(),b(i.appSettingsService.isMobile()?"w-full":"w-2/3"),t(4),y(c(6,20,"PROJECT.NEW")),t(2),E(i.projectList()),t(3),f("isMobile",i.appSettingsService.isMobile()),t(4),C(" ",c(15,22,"PROJECT.ADD")," "),t(2),f("formGroup",i.newProjectForm),t(),b(i.appSettingsService.isMobile()?"w-full":"w-96"),t(),f("label",c(20,24,"NAME")),t(3),f("label",c(22,26,"DESCRIPTION")),t(3),f("label",c(25,28,"CLOSE")),t(2),f("label",c(27,30,"ADD"))("disabled",!i.newProjectForm.valid),t(7),C(" ",c(34,32,"PROJECT.REMOVE")," "),t(2),I(35,i.selectedPrj?35:-1),t(2),f("label",c(38,34,"CANCEL")),t(2),f("label",c(40,36,"CONTINUE")))},dependencies:[oe,te,Z,ee,ae,ie,ne,X,se,le,H,U],styles:[".tempCol[_ngcontent-%COMP%]{grid-template-columns:43px 200px 300px auto 43px;grid-template-rows:34px}"]});let e=s;return e})();export{Je as ProjectsComponent};
